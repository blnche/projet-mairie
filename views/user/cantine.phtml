<?php
$weeks = $this->data['cafeteria-weeks'];
$children = $this->data['children'];
$childrenEnrollments = $this->data['childrenEnrollments'];
?>
<h1>cantine</h1>
<?php
var_dump($childrenEnrollments);
foreach ($childrenEnrollments as $childEnrollment)
{
    echo '<br>';
    echo '<br> prénom : ';
    var_dump($childEnrollment[0]);
    echo '<br>';
    echo '<br> week enrolled for : <br>';
    foreach ($childEnrollment[1] as $item)
    {
        var_dump($item['week'][0]);
        echo '<br>';
    }
    echo '<br>';

}
?>
<ul>
<?php
foreach ($weeks as $week)
{
foreach ($childrenEnrollments as $childEnrollment)
{
    foreach ($childEnrollment[1] as $item)
    {
        //var_dump($item['week'][0]);
        echo '<br>';


?>
    <li>
<?php
            if ($week->getWeekOfYear() === $item['week'][0])
            {
                var_dump($item['week'][0]);
                var_dump($week->getWeekOfYear());
                echo $childEnrollment[0].' registered for '.$week->getWeekOfYear();
            }
            else
            {
                var_dump($item['week'][0]);
                var_dump($week->getWeekOfYear());
                echo $childEnrollment[0].' not registered for '.$week->getWeekOfYear();;
            }
        ?>
    </li>
        <?php
    }
}
}
?>
</ul>
    <table>
        <thead>
        <tr>
            <th>Week</th>
            <th>Monday</th>
            <th>Tuesday</th>
            <th>Wednesday</th>
            <th>Thursday</th>
            <th>Friday</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <?php foreach($weeks as $week)
        {
            ?>
            <tr>

                <td> <?= $week->getWeekOfYear(); ?></td>
                <td> <?php
                    if($week->getMonday() === "Yes")
                    {
                        echo '✅';
                    }
                    else if ($week->getMonday() === "No")
                    {
                        echo '❌';
                    }
                    else if ($week->getMonday() === "Holiday")
                    {
                        echo '☀️';
                    }
                    else
                    {
                        echo 'à préciser';
                    }
                    ?>
                </td>
                <td> <?php
                    if($week->getTuesday() === "Yes")
                    {
                        echo '✅';
                    }
                    else if ($week->getTuesday() === "No")
                    {
                        echo '❌';
                    }
                    else if ($week->getTuesday() === "Holiday")
                    {
                        echo '☀️';
                    }
                    else
                    {
                        echo 'à préciser';
                    }
                    ?>
                </td>
                <td> <?php
                    if($week->getWednesday() === "Yes")
                    {
                        echo '✅';
                    }
                    else if ($week->getWednesday() === "No")
                    {
                        echo '❌';
                    }
                    else if ($week->getWednesday() === "Holiday")
                    {
                        echo '☀️';
                    }
                    else
                    {
                        echo 'à préciser';
                    }
                    ?>
                </td>
                <td> <?php
                    if($week->getThursday() === "Yes")
                    {
                        echo '✅';
                    }
                    else if ($week->getThursday() === "No")
                    {
                        echo '❌';
                    }
                    else if ($week->getThursday() === "Holiday")
                    {
                        echo '☀️';
                    }
                    else
                    {
                        echo 'à préciser';
                    }
                    ?>
                </td>
                <td> <?php
                    if($week->getFriday() === "Yes")
                    {
                        echo '✅';
                    }
                    else if ($week->getFriday() === "No")
                    {
                        echo '❌';
                    }
                    else if ($week->getFriday() === "Holiday")
                    {
                        echo '☀️';
                    }
                    else
                    {
                        echo 'à préciser';
                    }
                    ?>
                </td>
                <td><a href="index.php?route=espace-famille/cantine/modifier-semaine&semaine=<?= $week->getWeekOfYear(); ?>">Modifier</a></td>
            </tr>
          <?php
        }?>

        </tbody>
    </table>
